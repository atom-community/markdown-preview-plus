"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const electron_1 = require("electron");
class EventHandler {
    constructor(windowId, editorId, handlers) {
        this.windowId = windowId;
        this.editorId = editorId;
        this.handlers = handlers;
        this.handler = (e) => {
            if (this.editorId !== e.editorId || this.windowId !== e.windowId)
                return;
            const handler = this.handlers[e.event];
            handler(e.arg);
        };
        electron_1.remote.ipcMain.on('markdown-preview-plus:editor-event', this.handler);
    }
    dispose() {
        electron_1.remote.ipcMain.removeListener('markdown-preview-plus:editor-event', this.handler);
    }
}
exports.EventHandler = EventHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tYXJrZG93bi1wcmV2aWV3LXZpZXcvaXBjL2V2ZW50LWhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBaUM7QUFzQmpDO0lBQ0UsWUFDbUIsUUFBZ0IsRUFDaEIsUUFBZ0IsRUFDaEIsUUFBbUM7UUFGbkMsYUFBUSxHQUFSLFFBQVEsQ0FBUTtRQUNoQixhQUFRLEdBQVIsUUFBUSxDQUFRO1FBQ2hCLGFBQVEsR0FBUixRQUFRLENBQTJCO1FBWTlDLFlBQU8sR0FBRyxDQUFDLENBQStCLEVBQUUsRUFBRTtZQUNwRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxRQUFRO2dCQUFFLE9BQU07WUFDeEUsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFhLENBQUE7WUFDbEQsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUNoQixDQUFDLENBQUE7UUFkQyxpQkFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsb0NBQW9DLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3ZFLENBQUM7SUFFTSxPQUFPO1FBQ1osaUJBQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUMzQixvQ0FBb0MsRUFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FDYixDQUFBO0lBQ0gsQ0FBQztDQU9GO0FBckJELG9DQXFCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbW90ZSB9IGZyb20gJ2VsZWN0cm9uJ1xuXG5leHBvcnQgaW50ZXJmYWNlIElQQ0V2ZW50cyB7XG4gIHN5bmNQcmV2aWV3OiB7IHBvczogbnVtYmVyOyBmbGFzaDogYm9vbGVhbiB9XG4gIHNjcm9sbFN5bmM6IFtudW1iZXIsIG51bWJlcl1cbiAgZGVzdHJveTogdm9pZFxuICBjaGFuZ2VHcmFtbWFyOiBzdHJpbmdcbiAgY2hhbmdlUGF0aDogeyB0aXRsZTogc3RyaW5nOyBwYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQgfVxuICBjaGFuZ2VUZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgSVBDRXZlbnRIYW5kbGVyID0ge1xuICBbSyBpbiBrZXlvZiBJUENFdmVudHNdOiAoYXJnOiBJUENFdmVudHNbS10pID0+IHZvaWRcbn1cblxuZXhwb3J0IHR5cGUgRWRpdG9yRXZlbnQ8VCBleHRlbmRzIGtleW9mIElQQ0V2ZW50cz4gPSB7XG4gIGVkaXRvcklkOiBudW1iZXJcbiAgd2luZG93SWQ6IG51bWJlclxuICBldmVudDogVFxuICBhcmc6IElQQ0V2ZW50c1tUXVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSB3aW5kb3dJZDogbnVtYmVyLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWRpdG9ySWQ6IG51bWJlcixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZXJzOiBSZWFkb25seTxJUENFdmVudEhhbmRsZXI+LFxuICApIHtcbiAgICByZW1vdGUuaXBjTWFpbi5vbignbWFya2Rvd24tcHJldmlldy1wbHVzOmVkaXRvci1ldmVudCcsIHRoaXMuaGFuZGxlcilcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgIHJlbW90ZS5pcGNNYWluLnJlbW92ZUxpc3RlbmVyKFxuICAgICAgJ21hcmtkb3duLXByZXZpZXctcGx1czplZGl0b3ItZXZlbnQnLFxuICAgICAgdGhpcy5oYW5kbGVyLFxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlciA9IChlOiBFZGl0b3JFdmVudDxrZXlvZiBJUENFdmVudHM+KSA9PiB7XG4gICAgaWYgKHRoaXMuZWRpdG9ySWQgIT09IGUuZWRpdG9ySWQgfHwgdGhpcy53aW5kb3dJZCAhPT0gZS53aW5kb3dJZCkgcmV0dXJuXG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnNbZS5ldmVudF0gYXMgRnVuY3Rpb25cbiAgICBoYW5kbGVyKGUuYXJnKVxuICB9XG59XG4iXX0=