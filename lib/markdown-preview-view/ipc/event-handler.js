"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const electron_1 = require("electron");
class EventHandler {
    constructor(windowId, editorId, handlers) {
        this.windowId = windowId;
        this.editorId = editorId;
        this.handlers = handlers;
        this.handler = (e) => {
            if (this.editorId !== e.editorId || this.windowId !== e.windowId)
                return;
            const handler = this.handlers[e.event];
            handler(e.arg);
        };
        electron_1.remote.ipcMain.on('markdown-preview-plus:editor-event', this.handler);
    }
    dispose() {
        electron_1.remote.ipcMain.removeListener('markdown-preview-plus:editor-event', this.handler);
    }
}
exports.EventHandler = EventHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tYXJrZG93bi1wcmV2aWV3LXZpZXcvaXBjL2V2ZW50LWhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBaUM7QUFzQmpDLE1BQWEsWUFBWTtJQUN2QixZQUNtQixRQUFnQixFQUNoQixRQUFnQixFQUNoQixRQUFtQztRQUZuQyxhQUFRLEdBQVIsUUFBUSxDQUFRO1FBQ2hCLGFBQVEsR0FBUixRQUFRLENBQVE7UUFDaEIsYUFBUSxHQUFSLFFBQVEsQ0FBMkI7UUFZOUMsWUFBTyxHQUFHLENBQUMsQ0FBK0IsRUFBRSxFQUFFO1lBQ3BELElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLFFBQVE7Z0JBQUUsT0FBTTtZQUN4RSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQWEsQ0FBQTtZQUNsRCxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hCLENBQUMsQ0FBQTtRQWRDLGlCQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDdkUsQ0FBQztJQUVNLE9BQU87UUFDWixpQkFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQzNCLG9DQUFvQyxFQUNwQyxJQUFJLENBQUMsT0FBTyxDQUNiLENBQUE7SUFDSCxDQUFDO0NBT0Y7QUFyQkQsb0NBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVtb3RlIH0gZnJvbSAnZWxlY3Ryb24nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElQQ0V2ZW50cyB7XHJcbiAgc3luY1ByZXZpZXc6IHsgcG9zOiBudW1iZXI7IGZsYXNoOiBib29sZWFuIH1cclxuICBzY3JvbGxTeW5jOiBbbnVtYmVyLCBudW1iZXJdXHJcbiAgZGVzdHJveTogdm9pZFxyXG4gIGNoYW5nZUdyYW1tYXI6IHN0cmluZ1xyXG4gIGNoYW5nZVBhdGg6IHsgdGl0bGU6IHN0cmluZzsgcGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkIH1cclxuICBjaGFuZ2VUZXh0OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgSVBDRXZlbnRIYW5kbGVyID0ge1xyXG4gIFtLIGluIGtleW9mIElQQ0V2ZW50c106IChhcmc6IElQQ0V2ZW50c1tLXSkgPT4gdm9pZFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBFZGl0b3JFdmVudDxUIGV4dGVuZHMga2V5b2YgSVBDRXZlbnRzPiA9IHtcclxuICBlZGl0b3JJZDogbnVtYmVyXHJcbiAgd2luZG93SWQ6IG51bWJlclxyXG4gIGV2ZW50OiBUXHJcbiAgYXJnOiBJUENFdmVudHNbVF1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdpbmRvd0lkOiBudW1iZXIsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkaXRvcklkOiBudW1iZXIsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZXJzOiBSZWFkb25seTxJUENFdmVudEhhbmRsZXI+LFxyXG4gICkge1xyXG4gICAgcmVtb3RlLmlwY01haW4ub24oJ21hcmtkb3duLXByZXZpZXctcGx1czplZGl0b3ItZXZlbnQnLCB0aGlzLmhhbmRsZXIpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgIHJlbW90ZS5pcGNNYWluLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAnbWFya2Rvd24tcHJldmlldy1wbHVzOmVkaXRvci1ldmVudCcsXHJcbiAgICAgIHRoaXMuaGFuZGxlcixcclxuICAgIClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlciA9IChlOiBFZGl0b3JFdmVudDxrZXlvZiBJUENFdmVudHM+KSA9PiB7XHJcbiAgICBpZiAodGhpcy5lZGl0b3JJZCAhPT0gZS5lZGl0b3JJZCB8fCB0aGlzLndpbmRvd0lkICE9PSBlLndpbmRvd0lkKSByZXR1cm5cclxuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzW2UuZXZlbnRdIGFzIEZ1bmN0aW9uXHJcbiAgICBoYW5kbGVyKGUuYXJnKVxyXG4gIH1cclxufVxyXG4iXX0=